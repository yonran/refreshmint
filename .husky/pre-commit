#!/usr/bin/env sh

# Exit on error
set -e

echo "Running pre-commit checks..."

# Run TypeScript type checking
echo "  → Type checking..."
npm run typecheck

# Run ESLint + Prettier
echo "  → Linting & formatting..."
npm run lint

echo "  → Cargo check..."
cd src-tauri
RUSTFLAGS="-D warnings" cargo check

echo "  → Cargo fmt (check)..."
cargo fmt --check

echo "  → Cargo clippy..."
cargo clippy --all-targets --all-features -- -D warnings

echo "  → Cargo test..."
cargo test

echo "✓ All pre-commit checks passed"
